<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L 形與彩色方塊互動</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        canvas {
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin: 20px auto;
            display: block;
        }
        .controls {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            border-radius: 12px;
        }
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }
        button {
            padding: 10px 16px;
            font-size: 14px;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            min-width: 70px;
        }

        /* 十字排列 */
        .dir-cross {
            display: grid;
            grid-template-areas:
                ". up ."
                "left . right"
                ". down .";
            gap: 10px;               /* 上下左右之間的間距 */
            justify-items: center;
            align-items: center;
            max-width: 220px;
            margin: 0 auto;
        }
        .dir-cross button {
            width: 70px;
        }
        .dir-cross .up    { grid-area: up;    }
        .dir-cross .left  { grid-area: left;  }
        .dir-cross .right { grid-area: right; }
        .dir-cross .down  { grid-area: down;  }
    </style>
</head>
<body>

    <canvas id="gameCanvas" width="600" height="400"></canvas>

    <div class="controls">
        <h3>Change the SMALL SQUARE color:</h3>
        <div class="btn-group">
            <button class="color-red"    onclick="changeSquareColor('red')">Red</button>
            <button class="color-blue"   onclick="changeSquareColor('blue')">Blue</button>
            <button class="color-green"  onclick="changeSquareColor('green')">Green</button>
            <button class="color-yellow" onclick="changeSquareColor('yellow')">Yellow</button>
        </div>
        <hr>    

        <h3>Move the L shape:</h3>
        <div class="dir-cross">
            <button class="dir-up up"    onclick="moveL('up')">UP</button>
            <button class="dir-left left"onclick="moveL('left')">LEFT</button>
            <button class="dir-right right" onclick="moveL('right')">RIGHT</button>
            <button class="dir-down down"onclick="moveL('down')">DOWN</button>
        </div>
    </div>


    <!-- ==================== JavaScript ==================== -->
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        const unit = 40;
        const THICKNESS = 1 * unit;
        const L_HEIGHT = 4 * unit;
        const L_WIDTH  = 2 * unit;
        const SQUARE_SIZE = 1 * unit;

        let lX = 100, lY = 200;
        let squareX = 50, squareY = 150;
        let squareColor = 'yellow';
        const MOVE_STEP = 20;

        function drawL(x, y) {
            ctx.fillStyle = '#3498db';
            ctx.fillRect(x, y - L_HEIGHT, THICKNESS, L_HEIGHT);
            ctx.fillRect(x, y - THICKNESS, L_WIDTH, THICKNESS);
        }
        function drawSquare(x, y) {
            const colors = {red:'#e74c3c', blue:'#3498db', green:'#2ecc71', yellow:'#f1c40f'};
            ctx.fillStyle = colors[squareColor];
            ctx.fillRect(x, y, SQUARE_SIZE, SQUARE_SIZE);
        }
        function render() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            drawL(lX, lY);
            drawSquare(squareX, squareY);
        }

        function changeSquareColor(c){ squareColor=c; render(); }

        function moveL(dir){
            if(dir==='up')    lY -= MOVE_STEP;
            if(dir==='down')  lY += MOVE_STEP;
            if(dir==='left')  lX -= MOVE_STEP;
            if(dir==='right') lX += MOVE_STEP;

            // 邊界限制
            lX = Math.max(0, Math.min(canvas.width - L_WIDTH, lX));
            lY = Math.max(L_HEIGHT, Math.min(canvas.height, lY));
            render();
        }

        render();
    </script>
</body>
</html>